machine:
  xcode:
    version: 9.0
dependencies:
  pre:
    - brew install qt ninja
checkout:
  post:
    - git submodule sync
    - git submodule update --recursive --init
compile:
  override:
    - rm -rf examples 
    - /usr/local/opt/qt/bin/qmake -r CONFIG+=release CONFIG-=create_cmake PREFIX=/usr/local/Cellar/qt5/5.10.1
    - make
    - INSTALL_ROOT=$HOME/out make install
test:
  override:
    - "true"
